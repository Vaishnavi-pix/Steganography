<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Steganography Demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="container">
    <div class="row">
      <center>
        <h1 for="steganography_demo" class="display-1"><strong><u>Steganography Demo</u></strong></h1>
      </center>
    </div>
    <br>
    <br>
    <form>
      <div class="row">
        <div class="col">
          <div class="form-group">
            <center>
              <label for="steganography_demo" class="display-6">Input </label>
            </center>
            <textarea class="form-control" id="inputText" rows="10" style="border-width: 10px; border-color: white; font-size: 24px;"></textarea>
            <br>
            <button type="submit" class="btn btn-success" onclick="doConversion(event)" style="width: 450px; margin-left: 100px; font-size: x-large;"> Convert </button>
          </div>
        </div>
        <div class="col">
          <div class="form-group">
            <center>
              <label for="Output" class="display-6" >Output Text</label>
            </center>
            <textarea class="form-control" id="outputText" rows="10" style="border-width: 10px; border-color: white; font-size: 24px;"></textarea>
            <br>
            <button type="submit" class="btn btn-danger" onclick="deConvert(event)" style="width: 450px; margin-left: 100px; font-size: x-large;"> DeConvert </button>
          </div>
        </div>
        <br>
        <br>
        
      </div>
    </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
    crossorigin="anonymous"></script>
</body>
<script>
  function doConversion(event) {
    event.preventDefault(); // prevent form submission reload

    const userAction = async () => {
      const response = await fetch("stegText", {
        method: "POST",
        body: JSON.stringify({
          inputText: document.getElementById("inputText").value
        }),
        headers: {
          "Content-Type": "application/json",
        },
      });

      const result = await response.text(); // if server returns plain string
      document.getElementById('outputText').value = result;
    };

    userAction();
  }

  function deConvert

    (event) {
    event.preventDefault(); // prevent form submission reload

    const userAction = async () => {
      const response = await fetch("deStegText", {
        method: "POST",
        body: JSON.stringify({
          inputText: document.getElementById("inputText").value
        }),
        headers: {
          "Content-Type": "application/json",
        },
      });

      const result = await response.text(); // if server returns plain string
      document.getElementById('outputText').value = result;
    };

    userAction();
  }
</script>

</html>